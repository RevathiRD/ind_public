# Language setting
language: python

# Version number
python:
  - 2.7
  - 3.2
  - 3.6

env:
  global:
    - ENVG: "goo"
    - ENVM: "doo"
  matrix:
    - ENV1: "foo"
      ENV2: "bar"
    - ENV1: "boo"
      ENV2: "car"

matrix:
#  include:
#    - ENV1: "foo"
#      python: 2.7
  exclude:
    - ENV1: "foo"
      python: 3.6
  allow_failures:
    - python: 3.2

# the above combination should result in the following 6 matrix

# $SHIPPABLE_PYTHON_VERSION=2.7 ENV1: "foo" ENV2: "bar" ENVG: "goo"
# $SHIPPABLE_PYTHON_VERSION=2.7 ENV1: "boo" ENV2: "car" ENVG: "goo"
# $SHIPPABLE_PYTHON_VERSION=2.7 ENV1: "foo" ENV2: "bar" ENVG: "doo"
# $SHIPPABLE_PYTHON_VERSION=2.7 ENV1: "boo" ENV2: "car" ENVG: "doo"

# $SHIPPABLE_PYTHON_VERSION=3.2 ENV1: "foo" ENV2: "bar" ENVG: "goo"
# $SHIPPABLE_PYTHON_VERSION=3.2 ENV1: "boo" ENV2: "car" ENVG: "goo"
# $SHIPPABLE_PYTHON_VERSION=3.2 ENV1: "foo" ENV2: "bar" ENVG: "doo"  EXCLUDE
# $SHIPPABLE_PYTHON_VERSION=3.2 ENV1: "boo" ENV2: "car" ENVG: "doo"  EXCLUDE


build:
  ci:
    - python --version
    - |
      echo "ENV1=" $ENV1
      echo "ENV1=" $ENV1
      echo "ENVG=" $ENVG
      echo "$SHIPPABLE_PYTHON_VERSION=" $$SHIPPABLE_PYTHON_VERSION
